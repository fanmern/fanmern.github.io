<!DOCTYPE html>
<html lang="en">

<head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon"
                href="data:image/jpeg;base64,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"
                type="image/x-icon">
        <title>超越lululemon</title>
</head>

<body>
        <div id="wrap" align="center">
        </div>
        <!-- 引入 QRCode.js 库 -->
        <script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>
</body>
<script type="text/javascript">
        fetch('./fmr.json')
                .then(response => response.json())
                .then(data => {
                        loadUIElement(data)
                })
                .catch(error => {
                        console.error('Error loading JSON:', error);
                });

        function loadUIElement(data) {
                for (let index = 0; index < data.length; index++) {
                        const element = data[index];
                        p_id = element.id
                        p_code = element.code
                        var div_product = document.createElement("div")

                        div_product.setAttribute("class", "product")

                        // 图
                        var img = document.createElement("img")
                        img.setAttribute("class", "img-container")
                        img.setAttribute("id", p_id)
                        img.setAttribute("alt", p_code)
                        img.setAttribute("onclick", "copyToClipBoard(this)")
                        img.setAttribute("ondblclick", "copyToClipBoardWithCode(this)")
                        img_url = element.img + "_430x430q90.jpg"
                        img.setAttribute("src", img_url)
                        var div_img = document.createElement("div")
                        div_img.setAttribute("class", "img_product")
                        div_img.appendChild(img)

                        // 透明的idCode
                        // var p_container_id = document.createElement("p")
                        // p_container_id.setAttribute("class", "p_container_id")
                        // p_container_id.textContent = p_id
                        // div_product.appendChild(p_container_id)

                        //begin

                        // 创建二维码按钮
                        const qrButton = document.createElement('button');
                        qrButton.classList.add('qr-button');
                        qrButton.setAttribute("id", p_id)
                        qrButton.innerHTML = '<img src="https://img.alicdn.com/imgextra/i3/O1CN01CkZbKp27arsx4ktdK_!!6000000007814-2-tps-96-96.png" alt="二维码按钮" class="button-icon">';
                        div_img.appendChild(qrButton);

                        // 创建二维码容器
                        const qrCodeContainer = document.createElement('div');
                        qrCodeContainer.classList.add('qr-code', 'right'); // 二维码显示在按钮右侧
                        qrCodeContainer.id = `qr-code-${index}`; // 为每个二维码容器设置唯一 ID
                        div_img.appendChild(qrCodeContainer);

                        // 将图片容器添加到图片列表
                        div_product.appendChild(div_img);

                        // 初始化二维码
                        let qrCode = null;

                        // 用于存储 setTimeout 的 ID
                        let timeoutId = null;

                        // 鼠标进入按钮时触发
                        qrButton.addEventListener('mouseenter', () => {
                                // 设置 1 秒的延迟
                                timeoutId = setTimeout(() => {
                                        if (!qrCode) {
                                                // 如果二维码未生成，则生成二维码
                                                qrCode = new QRCode(qrCodeContainer, {
                                                        width: 128,     // 二维码宽度
                                                        height: 128,    // 二维码高度
                                                        colorDark: '#000000', // 二维码深色部分颜色
                                                        colorLight: '#ffffff', // 二维码浅色部分颜色
                                                        correctLevel: QRCode.CorrectLevel.H // 容错级别（L, M, Q, H）
                                                });
                                        }

                                        qrCode.makeCode('https://h5.m.taobao.com/awp/core/detail.htm?id=' + qrButton.id); // 二维码内容
                                        // 显示二维码
                                        qrCodeContainer.classList.add('visible');
                                }, 300); // 1 秒延迟
                        });

                        // 鼠标离开按钮时触发
                        qrButton.addEventListener('mouseleave', () => {
                                // 清除延迟
                                clearTimeout(timeoutId);

                                // 隐藏二维码
                                qrCodeContainer.classList.remove('visible');
                        });

                        // end

                        // div_product.appendChild(div_img)

                        // 链接
                        var div_detail = document.createElement("div")
                        div_detail.setAttribute("class", "detail")
                        var a1 = document.createElement("a")
                        a1.setAttribute("target", "_blank")
                        a1.setAttribute("href", "https://detail.tmall.com/item.htm?id=" + p_id)
                        a1.innerText = element.code
                        var a2 = document.createElement("a")
                        a2.setAttribute("target", "_blank")
                        a2.setAttribute("href", "https://sycm.taobao.com/cc/item_archives?activeKey=flow&dateType=day&itemId=" + p_id)
                        a2.innerText = "商品360"
                        var a3 = document.createElement("a")
                        a3.setAttribute("target", "_blank")
                        a3.setAttribute("href", "https://myseller.taobao.com/home.htm/SellManage/all?current=1&pageSize=20&queryItemId=" + p_id)
                        a3.innerText = "编辑"

                        div_detail.appendChild(a1)
                        div_detail.appendChild(a2)
                        div_detail.appendChild(a3)
                        // div_detail.appendChild(a4)
                        div_product.appendChild(div_detail)

                        var container = document.getElementById('wrap');
                        container.appendChild(div_product);
                }
        }

        function copyToClipBoard(obj) {
                const input = document.createElement('input');
                document.body.appendChild(input);
                input.setAttribute('value', obj.id);
                input.select();
                document.execCommand('copy');
                document.body.removeChild(input);
        };
        function copyToClipBoardWithCode(obj) {
                const input = document.createElement('input');
                document.body.appendChild(input);
                input.setAttribute('value', obj.alt);
                input.select();
                document.execCommand('copy');
                document.body.removeChild(input);
        };
        //长按并松开只触发一次(点击Home到店铺主页)
        document.onkeyup = keyboard;
        function keyboard(eve) {
                if (eve.key == "Home") {
                        window.open("https://fanmeiren.tmall.com/search.htm?scene=taobao_shop&search=y&orderType=newOn_desc&tsearch=y");
                }
        }
        document.onkeyup = keyboard;


</script>
<style>
        * {
                padding: 0;
                margin: 0;
        }

        body {
                padding: 0 0 10px 0;
        }

        #wrap {
                min-width: 1260px;
                font-size: 10;
        }

        .product {
                display: inline-block;
                position: relative;
                padding: 10px 5px 0 5px;
        }

        /* .p_container_id {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                color: transparent;
                font-size: 16px;
                z-index: 2;
        } */

        .img-container {
                width: 200px;
                height: 200px;
                display: block;
        }

        .detail {
                display: flex;
                justify-content: space-around;
        }

        a {
                font-size: 16px;
                text-decoration: none;
        }


        a:visited {
                color: #0000FF;
        }

        /* 图片容器 */
        .div_img {
                position: relative;
                display: inline-block;
        }

        /* 图片样式 */


        /* 二维码按钮 */
        .qr-button {
                position: absolute;
                top: 10px;
                /* 按钮距离图片顶部的距离 */
                right: 10px;
                /* 按钮距离图片右侧的距离 */
                background: none;
                border: none;
                cursor: pointer;
                padding: 0;
        }

        /* 按钮图标 */
        .button-icon {
                width: 30px;
                /* 按钮图标大小 */
                height: 30px;
        }

        /* 二维码容器 */
        .qr-code {
                display: none;
                position: absolute;
                padding: 4px;
                background-color: white;
                border: 1px solid #ccc;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                z-index: 10;
        }

        /* 二维码显示在按钮右侧 */
        .qr-code.right {
                top: 20%;
                right: 20%;
                /* transform: translate(10px, -50%); */
                /* 调整间距 */
        }

        /* 显示二维码 */
        .qr-code.visible {
                display: block;
        }
</style>

</html>